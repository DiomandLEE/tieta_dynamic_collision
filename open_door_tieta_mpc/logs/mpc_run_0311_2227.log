
===== Parameters =====
/dynamic_collision_mpc/debug_info: 0
/dynamic_collision_mpc/delay_mode: 0
/dynamic_collision_mpc/frequency_dT: 0.1
/dynamic_collision_mpc/mpc_steps: 40
/dynamic_collision_mpc/mpc_w_distx: 10000
/dynamic_collision_mpc/mpc_w_disty: 10000
/dynamic_collision_mpc/mpc_w_etheta: 100
/dynamic_collision_mpc/mpc_max_angvel: 0.3
/dynamic_collision_mpc/mpc_max_vel: 0.2
[0m[ INFO] [1710167258.180216729]: Create the record folder: /home/diamondlee/VKConTieta_ws/src/open_door_tieta_mpc/tieta_result_csv/result/sim_plot_20240311_222738[0m
[0m[ INFO] [1710167258.180597875]: record_csv/csv file has been open ![0m
[0m[ INFO] [1710167258.180635506]: Create the record folder: /home/diamondlee/VKConTieta_ws/src/open_door_tieta_mpc/tieta_result_csv/debug/sim_debug20240311_222738[0m
[0m[ INFO] [1710167258.180658609]: debug_csv/csv file has been open ![0m
[0m[ INFO] [1710167258.180710396]: Class mpc : record_csv/csv file has been open ![0m
[0m[ INFO] [1710167258.180751744]: Class mpc : debug_csv/csv file has been open ![0m

!! MPC Obj parameters updated !! 
[0m[ INFO] [1710167258.361966407]: Waiting for reference traj msgs ~[0m
rcvTrajCB‰∏≠mpcsteps‰∏∫ 40
[0m[ INFO] [1710167258.533773380]: Track Traj has received !!! Track Traj real length: 264[0m
[0m[ INFO] [1710167258.533780674]: Track Traj has received !!! Track Traj subscribed length: 428[0m
publish joint velocitys: 0,0,0,0,0,0,0,0,0,0,0,0,
publish joint velocitys: 0,0,0,0,0,0,0,0,0,0,0,0,
publish joint velocitys: 0,0,0,0,0,0,0,0,0,0,0,0,
publish joint velocitys: 0,0,0,0,0,0,0,0,0,0,0,0,
publish joint velocitys: 0,0,0,0,0,0,0,0,0,0,0,0,
publish joint velocitys: 0,0,0,0,0,0,0,0,0,0,0,0,
publish joint velocitys: 0,0,0,0,0,0,0,0,0,0,0,0,
debug_start
***********************  ÂºÄÂßãControl Loop  ************************
_traj_received‰∏∫1
_track_finished‰∏∫0
_loop_count‰∏∫0
_realTraj_length‰∏∫264
_run_loop_traj‰∏∫ 1
_run_loop_count‰∏∫ 1
_run_loop‰∏∫ 1
getTrackTrajÁî®Êó∂: 1.00136e-05
getTrackTraj stamp: 0.000111341
_mpc_trackTraj_sizeÊòØÂê¶Ê≠£Á°Æ: 1
_trackTraj_computed‰∏∫ 1
_start_mpc_trackTraj‰∏∫ 1
===================  ËøõÂÖ•ÂâçÊúüËÆ°ÁÆó  =============================
state position: 0.103956,0.953408,0.396687
state velocity: 0,0,0
flag: 0
terminal_nums: 263

!! MPC Obj Solve Called !! 
[0m[ INFO] [1710167261.000721071]: Class FG_eval : debug_csv/csv file has been open ! : /home/diamondlee/VKConTieta_ws/src/open_door_tieta_mpc/tieta_result_csv/debug/sim_debug20240311_222738/fg_evalue_segTraj.csv[0m
FG_eval paramster has been set.
+++++++++++++++++  ÂºÄÂßãÊ±ÇËß£  +++++++++++++++
cppAd input size:
n_var:237
n_var_lowb237
n_var_upb237
n_con_lowb:120
n_con_upb:120
ËøõÊù•Âá†Ê¨°Âïä
track traj angle_0
0.103956,0.953408,0.396687
track traj angle_1
0.10393,0.953378,0.396681
track traj angle_2
0.10385,0.95329,0.396662
track traj angle_3
0.103718,0.953142,0.396632
track traj angle_4
0.103534,0.952935,0.396589
track traj angle_5
0.103296,0.952668,0.396533
track traj angle_6
0.103006,0.952343,0.396466
track traj angle_7
0.102662,0.951958,0.396386
track traj angle_8
0.102266,0.951514,0.396293
track traj angle_9
0.101817,0.951011,0.396189
track traj angle_10
0.101316,0.950449,0.396072
track traj angle_11
0.100761,0.949828,0.395943
track traj angle_12
0.100154,0.949148,0.395801
track traj angle_13
0.099494,0.948408,0.395648
track traj angle_14
0.0987812,0.947609,0.395481
track traj angle_15
0.0980155,0.946751,0.395303
track traj angle_16
0.0971971,0.945834,0.395112
track traj angle_17
0.0963258,0.944857,0.394909
track traj angle_18
0.0954017,0.943822,0.394694
track traj angle_19
0.0944248,0.942727,0.394467
track traj angle_20
0.0933952,0.941573,0.394227
track traj angle_21
0.0923127,0.94036,0.393975
track traj angle_22
0.0911787,0.939087,0.39371
track traj angle_23
0.0899945,0.937753,0.393432
track traj angle_24
0.0887605,0.936357,0.393142
track traj angle_25
0.087477,0.9349,0.392839
track traj angle_26
0.0861445,0.933381,0.392523
track traj angle_27
0.0847632,0.931799,0.392194
track traj angle_28
0.0833337,0.930155,0.391851
track traj angle_29
0.0818564,0.928448,0.391496
track traj angle_30
0.0803317,0.926678,0.391127
track traj angle_31
0.07876,0.924844,0.390745
track traj angle_32
0.0771419,0.922947,0.39035
track traj angle_33
0.0754777,0.920985,0.389941
track traj angle_34
0.0737682,0.918959,0.389518
track traj angle_35
0.0720136,0.916867,0.389082
track traj angle_36
0.0702147,0.914711,0.388632
track traj angle_37
0.0683719,0.912488,0.388168
track traj angle_38
0.0664861,0.910199,0.38769
track traj angle_39
0.0645577,0.907844,0.387199
cost_distx: 0,cost_disty: 0,cost_etheta: 0
cost_distx: 6.97072e-06,cost_disty: 8.75363e-06,cost_etheta: 3.78297e-09
cost_distx: 0.000111532,cost_disty: 0.000140058,cost_etheta: 6.05275e-08
cost_distx: 0.000564628,cost_disty: 0.000709044,cost_etheta: 3.06421e-07
cost_distx: 0.0017845,cost_disty: 0.00224093,cost_etheta: 9.68441e-07
cost_distx: 0.0043567,cost_disty: 0.00547102,cost_etheta: 2.36436e-06
cost_distx: 0.00903405,cost_disty: 0.0113447,cost_etheta: 4.90273e-06
cost_distx: 0.0167367,cost_disty: 0.0210175,cost_etheta: 9.08292e-06
cost_distx: 0.0285521,cost_disty: 0.0358549,cost_etheta: 1.54951e-05
cost_distx: 0.0457349,cost_disty: 0.0574326,cost_etheta: 2.48201e-05
cost_distx: 0.0697072,cost_disty: 0.0875363,cost_etheta: 3.78297e-05
cost_distx: 0.102058,cost_disty: 0.128162,cost_etheta: 5.53865e-05
cost_distx: 0.144545,cost_disty: 0.181515,cost_etheta: 7.84437e-05
cost_distx: 0.199091,cost_disty: 0.250013,cost_etheta: 0.000108045
cost_distx: 0.267787,cost_disty: 0.33628,cost_etheta: 0.000145327
cost_distx: 0.352893,cost_disty: 0.443153,cost_etheta: 0.000191513
cost_distx: 0.456833,cost_disty: 0.573678,cost_etheta: 0.000247921
cost_distx: 0.582201,cost_disty: 0.731112,cost_etheta: 0.000315958
cost_distx: 0.731758,cost_disty: 0.918922,cost_etheta: 0.000397121
cost_distx: 0.908431,cost_disty: 1.14078,cost_etheta: 0.000493001
cost_distx: 1.11532,cost_disty: 1.40058,cost_etheta: 0.000605275
cost_distx: 1.35567,cost_disty: 1.70242,cost_etheta: 0.000735716
cost_distx: 1.6326,cost_disty: 2.05086,cost_etheta: 0.000886318
cost_distx: 1.94924,cost_disty: 2.45083,cost_etheta: 0.00105923
cost_distx: 2.30904,cost_disty: 2.9073,cost_etheta: 0.00125661
cost_distx: 2.71557,cost_disty: 3.42552,cost_etheta: 0.00148075
cost_distx: 3.17251,cost_disty: 4.01098,cost_etheta: 0.00173405
cost_distx: 3.68362,cost_disty: 4.66947,cost_etheta: 0.00201903
cost_distx: 4.25278,cost_disty: 5.40702,cost_etheta: 0.00233833
cost_distx: 4.88392,cost_disty: 6.22997,cost_etheta: 0.00269473
cost_distx: 5.58109,cost_disty: 7.14494,cost_etheta: 0.00309111
cost_distx: 6.34839,cost_disty: 8.15882,cost_etheta: 0.00353051
cost_distx: 7.18998,cost_disty: 9.27882,cost_etheta: 0.00401609
cost_distx: 8.11011,cost_disty: 10.5125,cost_etheta: 0.00455116
cost_distx: 9.11306,cost_disty: 11.8675,cost_etheta: 0.00513914
cost_distx: 10.2032,cost_disty: 13.3522,cost_etheta: 0.00578363
cost_distx: 11.3848,cost_disty: 14.9749,cost_etheta: 0.00648837
cost_distx: 12.6623,cost_disty: 16.7445,cost_etheta: 0.00725719
cost_distx: 14.0399,cost_disty: 18.6699,cost_etheta: 0.00809397
cost_distx: 15.5222,cost_disty: 20.7607,cost_etheta: 0.00900284
-----------------------------------------------

******************************************************************************
This program contains Ipopt, a library for large-scale nonlinear optimization.
 Ipopt is released as open source code under the Eclipse Public License (EPL).
         For more information visit https://github.com/coin-or/Ipopt
******************************************************************************

This is Ipopt version 3.14.13, running with linear solver ma27.

Number of nonzeros in equality constraint Jacobian...:      345
Number of nonzeros in inequality constraint Jacobian.:        0
Number of nonzeros in Lagrangian Hessian.............:      319

Total number of variables............................:      231
                     variables with only lower bounds:        0
                variables with lower and upper bounds:      231
                     variables with only upper bounds:        0
Total number of equality constraints.................:      120
Total number of inequality constraints...............:        0
        inequality constraints with only lower bounds:        0
   inequality constraints with lower and upper bounds:        0
        inequality constraints with only upper bounds:        0

iter    objective    inf_pr   inf_du lg(mu)  ||d||  lg(rg) alpha_du alpha_pr  ls
   0  3.0344014e+02 3.97e-02 1.00e+02  -1.0 0.00e+00    -  0.00e+00 0.00e+00   0
   1  1.6371033e+02 2.12e-02 5.35e+01  -1.0 4.26e-01    -  3.77e-01 4.65e-01f  1
   2  2.2545059e+02 1.01e-02 2.54e+01  -1.0 2.42e-01    -  9.70e-01 5.25e-01h  1
   3  3.8724845e+02 5.01e-07 5.86e-03  -1.0 1.20e-01    -  9.95e-01 1.00e+00h  1
   4  3.8249501e+02 5.94e-08 4.52e-01  -2.5 4.39e-02    -  7.17e-01 1.00e+00f  1
   5  3.7988527e+02 1.03e-08 1.22e-13  -2.5 6.03e-02    -  1.00e+00 1.00e+00f  1
   6  3.7915514e+02 2.30e-09 1.11e-02  -3.8 3.47e-02    -  9.07e-01 1.00e+00f  1
   7  3.7909506e+02 4.78e-10 1.18e-13  -3.8 9.30e-03    -  1.00e+00 1.00e+00f  1
   8  3.7906642e+02 8.67e-11 9.43e-05  -5.7 4.08e-03    -  9.96e-01 1.00e+00f  1
   9  3.7906497e+02 1.63e-11 1.21e-13  -5.7 1.40e-03    -  1.00e+00 1.00e+00f  1
iter    objective    inf_pr   inf_du lg(mu)  ||d||  lg(rg) alpha_du alpha_pr  ls
  10  3.7906455e+02 5.24e-13 1.19e-13  -8.0 2.52e-04    -  1.00e+00 1.00e+00f  1
  11  3.7906455e+02 1.16e-14 1.21e-13  -8.0 7.10e-06    -  1.00e+00 1.00e+00h  1

Number of Iterations....: 11

                                   (scaled)                 (unscaled)
Objective...............:   4.1597016447909375e+01    3.7906454674616492e+02
Dual infeasibility......:   1.2070125675088553e-13    1.0999242515208427e-12
Constraint violation....:   1.1615708395140700e-14    1.1615708395140700e-14
Variable bound violation:   8.3218486823799509e-09    8.3218486823799509e-09
Complementarity.........:   9.3338717894660765e-09    8.5057539732241945e-08
Overall NLP error.......:   9.3338717894660765e-09    8.5057539732241945e-08


Number of objective function evaluations             = 12
Number of objective gradient evaluations             = 12
Number of equality constraint evaluations            = 12
Number of inequality constraint evaluations          = 0
Number of equality constraint Jacobian evaluations   = 12
Number of inequality constraint Jacobian evaluations = 0
Number of Lagrangian Hessian evaluations             = 11
Total seconds in IPOPT                               = 0.015

EXIT: Optimal Solution Found.
+++++++++++++++++  ÁªìÊùüÊ±ÇËß£  ++++++++++++++++
$$$$$$$$$ ÁªìÊûúÂ±ïÁ§∫ $$$$$$$$$$
------ Total Cost(solution): 379.065-----
------ solutionÁªìÊûú: 1------
------ solution,size(): 237-----
CHRONO  MPC solve time: 24ms
CHRONO  MPC solve index: 1
$$$$$$ MPC solved successfully! $$$$$$
... logging to /home/diamondlee/.ros/log/76303ee2-dfa4-11ee-8e86-67d27b305563/roslaunch-diamondlee-System-Product-Name-3846372.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.
]2;/home/diamondlee/VKConTieta_ws/src/open_door_tieta_mpc/launch/mpc_run.launch
[1mstarted roslaunch server http://diamondlee-System-Product-Name:38191/[0m

SUMMARY
========

PARAMETERS
 * /dynamic_collision_mpc/_dt: 0.1
 * /dynamic_collision_mpc/barried_arm_m: 4.7
 * /dynamic_collision_mpc/barried_arm_n: 0.2
 * /dynamic_collision_mpc/barried_arm_r: -0.2
 * /dynamic_collision_mpc/barried_arm_w: 10.0
 * /dynamic_collision_mpc/barried_base_m: 4.7
 * /dynamic_collision_mpc/barried_base_n: 1.0
 * /dynamic_collision_mpc/barried_base_r: 0.3
 * /dynamic_collision_mpc/barried_base_w: 10.0
 * /dynamic_collision_mpc/barried_normal_tip_handle_m: 3
 * /dynamic_collision_mpc/barried_normal_tip_handle_n: 1
 * /dynamic_collision_mpc/barried_normal_tip_handle_r: -1.1
 * /dynamic_collision_mpc/barried_normal_tip_handle_w: 10
 * /dynamic_collision_mpc/base_threshold: 0.5
 * /dynamic_collision_mpc/collision_base_weight: 300000.0
 * /dynamic_collision_mpc/collision_handle_arm_base_weight: 200000.0
 * /dynamic_collision_mpc/collision_normal_vector_weight: 10000.0
 * /dynamic_collision_mpc/collision_tip_bottom_door_weight: 10000.0
 * /dynamic_collision_mpc/controller_freq: 1
 * /dynamic_collision_mpc/debug_info: False
 * /dynamic_collision_mpc/delay_mode: False
 * /dynamic_collision_mpc/delay_steps: 6
 * /dynamic_collision_mpc/elbow_threshold: 0.3
 * /dynamic_collision_mpc/gripper_threshold: 0.3
 * /dynamic_collision_mpc/increase_length: 166
 * /dynamic_collision_mpc/mpc_max_angvel: 0.3
 * /dynamic_collision_mpc/mpc_max_jntvel: 0.5
 * /dynamic_collision_mpc/mpc_max_vel: 0.2
 * /dynamic_collision_mpc/mpc_steps: 40
 * /dynamic_collision_mpc/mpc_w_acc: 10.0
 * /dynamic_collision_mpc/mpc_w_angacc: 10.0
 * /dynamic_collision_mpc/mpc_w_angvel: 0.0
 * /dynamic_collision_mpc/mpc_w_distx: 10000.0
 * /dynamic_collision_mpc/mpc_w_disty: 10000.0
 * /dynamic_collision_mpc/mpc_w_etheta: 100.0
 * /dynamic_collision_mpc/mpc_w_vel: 0.0
 * /dynamic_collision_mpc/pedestrian_threshold: 0.3
 * /dynamic_collision_mpc/pedestrian_velocity_x: 0.0
 * /dynamic_collision_mpc/pedestrian_velocity_y: 0.0
 * /dynamic_collision_mpc/pid_freq: 10
 * /dynamic_collision_mpc/proj_closet_m: 80.0
 * /dynamic_collision_mpc/proj_closet_n: 1.2
 * /dynamic_collision_mpc/proj_closet_r: 0.0
 * /dynamic_collision_mpc/proj_closet_w: 1.2
 * /dynamic_collision_mpc/proj_door_m1: -70.0
 * /dynamic_collision_mpc/proj_door_m2: 80.0
 * /dynamic_collision_mpc/proj_door_n1: 1.2
 * /dynamic_collision_mpc/proj_door_n2: 1.2
 * /dynamic_collision_mpc/proj_door_r1: -1.0
 * /dynamic_collision_mpc/proj_door_r2: 0.0
 * /dynamic_collision_mpc/proj_door_w1: 1.1
 * /dynamic_collision_mpc/proj_door_w2: 1.1
 * /dynamic_collision_mpc/save_Debugfolder_path: /home/diamondlee/...
 * /dynamic_collision_mpc/savefolder_path: /home/diamondlee/...
 * /dynamic_collision_mpc/shoulder_threshold: 0.3
 * /dynamic_collision_mpc/thread_numbers: 3
 * /dynamic_collision_mpc/tolerance_joint: 0.08
 * /dynamic_collision_mpc/tolerance_position: 0.05
 * /dynamic_collision_mpc/tolerance_theta: 0.1
 * /dynamic_collision_mpc/wrist_threshold: 0.3
 * /dynamic_collision_mpc/x_kd: 0.005
 * /dynamic_collision_mpc/x_ki: 0.01
 * /dynamic_collision_mpc/x_kp: 0.2
 * /dynamic_collision_mpc/y_kd: 0.005
 * /dynamic_collision_mpc/y_ki: 0.01
 * /dynamic_collision_mpc/y_kp: 0.2
 * /dynamic_collision_mpc/yaw_kd: 0.005
 * /dynamic_collision_mpc/yaw_ki: 0.01
 * /dynamic_collision_mpc/yaw_kp: 0.2
 * /rosdistro: noetic
 * /rosversion: 1.16.0

NODES
  /
    dynamic_collision_mpc (open_door_tieta_mpc/tieta_mpc_place_node)

[1mROS_MASTER_URI=http://localhost:11311[0m
]2;/home/diamondlee/VKConTieta_ws/src/open_door_tieta_mpc/launch/mpc_run.launch http://localhost:11311
[1mprocess[dynamic_collision_mpc-1]: started with pid [3846426][0m
all processes on machine have died, roslaunch will exit
shutting down processing monitor...
... shutting down processing monitor complete
[1mdone[0m
